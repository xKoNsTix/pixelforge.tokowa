!function(e){"use strict";e(function(){e.avia_utilities=e.avia_utilities||{},void 0===e.avia_utilities.isMobile&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&"ontouchstart"in document.documentElement?e.avia_utilities.isMobile=!0:e.avia_utilities.isMobile=!1),function(){var a=e("#header"),i=e("#main .av-logo-container"),t=e("#avia-menu"),n=e(".av-burger-menu-main a"),s=e("html").eq(0),l=e('<div class="av-burger-overlay"></div>'),r=e('<div class="av-burger-overlay-scroll"></div>').appendTo(l),o=e('<div class="av-burger-overlay-inner"></div>').appendTo(r),u=(e('<div class="av-burger-overlay-bg"></div>').appendTo(l),!1),v={},d=e(".av-logo-container .inner-container"),c=d.find(".main_menu"),m=s.is(".html_av-submenu-display-click.html_av-submenu-clone, .html_av-submenu-display-hover.html_av-submenu-clone"),h=!1,p=0,f=e("#avia_alternate_menu");f.length>0&&(t=f);var g,b,_=function(){e.avia_utilities.isMobile&&r.outerHeight(window.innerHeight)},y=function(a,i){var t,s,l,r,o,u;a&&(a.each(function(){s=e(this),0==(l=s.find(" > .sub-menu > li")).length&&(l=s.find(" > .children > li")),r=s.find(".avia_mega_div > .sub-menu > li.menu-item");var a=s.find(">a"),n=!0;a.length&&("#"!=a.get(0).hash&&void 0!==a.attr("href")&&"#"!=a.attr("href")||(l.length>0||r.length>0)&&(n=!1)),t=a.clone(n).attr("style",""),void 0===a.attr("href")&&t.attr("href","#"),o=e("<li>").append(t);var v=[];void 0!==s.attr("class")&&(v=s.attr("class").split(/\s+/),e.each(v,function(e,a){return 0!=a.indexOf("menu-item")&&a.indexOf("page-item")<0&&0!=a.indexOf("page_item")&&a.indexOf("dropdown_ul")<0&&o.addClass(a),!0})),void 0!==s.attr("id")&&""!=s.attr("id")?o.addClass(s.attr("id")):e.each(v,function(e,a){if(a.indexOf("page-item-")>=0)return o.addClass(a),!1}),i.append(o),l.length?(u=e('<ul class="sub-menu">').appendTo(o),m&&"#"!=t.get(0).hash&&"#"!=t.attr("href")&&o.clone(!0).prependTo(u),o.addClass("av-width-submenu").find(">a").append('<span class="av-submenu-indicator">'),y(l,u)):r.length&&(u=e('<ul class="sub-menu">').appendTo(o),m&&"#"!=t.get(0).hash&&"#"!=t.attr("href")&&o.clone(!0).prependTo(u),r.each(function(a){var i=e(this),t=i.find("> .sub-menu"),n=i.find("> .mega_menu_title"),s=n.find("a").attr("href")||"#",l=t.length>0?t.find(">li"):null,r=!1,v=o.find(">a"),d="";if(null!==l&&0!=l.length||"#"==s&&(d=' style="display: none;"'),0==a&&o.addClass("av-width-submenu").find(">a").append('<span class="av-submenu-indicator">'),n.length&&""!=n.text()){if(r=!0,a>0){var c=o.parents("li").eq(0);c.length&&(o=c),u=e('<ul class="sub-menu">').appendTo(o)}o=e("<li"+d+">").appendTo(u),u=e('<ul class="sub-menu">').appendTo(o),e('<a href="'+s+'"><span class="avia-bullet"></span><span class="avia-menu-text">'+n.text()+"</span></a>").insertBefore(u),v=o.find(">a"),m&&t.length>0&&v.length&&"#"!=v.get(0).hash&&"#"!=v.attr("href")&&o.clone(!0).addClass("av-cloned-title").prependTo(u)}r&&t.length>0&&o.addClass("av-width-submenu").find(">a").append('<span class="av-submenu-indicator">'),y(l,u)}))}),n.trigger("avia_burger_list_created"))};e("body").on("mousewheel DOMMouseScroll touchmove",".av-burger-overlay-scroll",function(e){var a=this.offsetHeight,i=this.scrollHeight,t=e.originalEvent.wheelDelta;i!=this.clientHeight?(this.scrollTop>=i-a&&t<0||this.scrollTop<=0&&t>0)&&e.preventDefault():e.preventDefault()}),e(document).on("mousewheel DOMMouseScroll touchmove",".av-burger-overlay-bg, .av-burger-overlay-active .av-burger-menu-main",function(e){e.preventDefault()});var w={};function C(e,a){a.preventDefault(),a.stopImmediatePropagation();var i=e.parents("li").eq(0);i.toggleClass("av-show-submenu"),i.is(".av-show-submenu")?i.children("ul.sub-menu").slideDown("fast"):i.children("ul.sub-menu").slideUp("fast")}e(document).on("touchstart",".av-burger-overlay-scroll",function(e){w.Y=e.originalEvent.touches[0].clientY}),e(document).on("touchend",".av-burger-overlay-scroll",function(e){w={}}),e(document).on("touchmove",".av-burger-overlay-scroll",function(a){w.Y||(w.Y=a.originalEvent.touches[0].clientY);var i=a.originalEvent.touches[0].clientY-w.Y,t=this.scrollTop,n=this.scrollHeight,s=t+this.offsetHeight,l=i>0?"up":"down";e("body").get(0).scrollTop=w.body,t<=0?"up"==l&&a.preventDefault():s>=n&&"down"==l&&a.preventDefault()}),e(window).on("debouncedresize",function(a){var i=!0;if(e.avia_utilities.isMobile&&s.hasClass("av-mobile-menu-switch-portrait")&&s.hasClass("html_text_menu_active")){var t=e(window).height(),l=e(window).width();if(l<=t)s.removeClass("html_burger_menu");else{var r=s.hasClass("html_mobile_menu_phone")?768:990;t<r?(s.addClass("html_burger_menu"),i=!1):s.removeClass("html_burger_menu")}}i&&b&&b.length&&(n.is(":visible")||b.filter(".is-active").parents("a").eq(0).trigger("click")),_()}),e(".html_av-overlay-side").on("click",".av-burger-overlay-bg",function(e){e.preventDefault(),b.parents("a").eq(0).trigger("click")}),e(window).on("avia_smooth_scroll_start",function(){b&&b.length&&b.filter(".is-active").parents("a").eq(0).trigger("click")}),e(".html_av-submenu-display-hover").on("mouseenter",".av-width-submenu",function(a){e(this).children("ul.sub-menu").slideDown("fast")}),e(".html_av-submenu-display-hover").on("mouseleave",".av-width-submenu",function(a){e(this).children("ul.sub-menu").slideUp("fast")}),e(".html_av-submenu-display-hover").on("click",".av-width-submenu > a",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e(".html_av-submenu-display-hover").on("touchstart",".av-width-submenu > a",function(a){var i=e(this);C(i,a)}),e(".html_av-submenu-display-click").on("click",".av-width-submenu > a",function(a){var i=e(this);C(i,a)}),e(".html_av-submenu-display-click").on("click",".av-burger-overlay a",function(a){var i=window.location.href.match(/(^[^#]*)/)[0],t=e(this).attr("href").match(/(^[^#]*)/)[0];return t!=i||(a.preventDefault(),a.stopImmediatePropagation(),b.parents("a").eq(0).trigger("click"),!1)}),function(){if(!c.length){var a=e("#header .main_menu").clone(!0),i=a.find("ul.av-main-nav"),t=i.attr("id");"string"==typeof t&&""!=t.trim()&&i.attr("id",t+"-"+p++),a.find(".menu-item:not(.menu-item-avia-special)").remove(),a.insertAfter(d.find(".logo").first());var s=e("#header .social_bookmarks").clone(!0);s.length||(s=e(".av-logo-container .social_bookmarks").clone(!0)),s.length&&(a.find(".avia-menu").addClass("av_menu_icon_beside"),a.append(s)),n=e(".av-burger-menu-main a")}}(),n.on("click",function(n){if(!u){if(b=e(this).find(".av-hamburger"),u=!0,!h){h=!0,b.addClass("av-inserted-main-menu"),g=e("<ul>").attr({id:"av-burger-menu-ul",class:""});var r=t.find("> li:not(.menu-item-avia-special)");y(r,g);g.find(".noMobile").remove(),g.appendTo(o),v=o.find("#av-burger-menu-ul > li"),e.fn.avia_smoothscroll&&e('a[href*="#"]',l).avia_smoothscroll(l)}if(b.is(".is-active"))b.removeClass("is-active"),s.removeClass("av-burger-overlay-active-delayed"),l.animate({opacity:0},function(){l.css({display:"none"}),s.removeClass("av-burger-overlay-active"),u=!1});else{_();var d=i.length?i.outerHeight()+i.position().top:a.outerHeight()+a.position().top;l.appendTo(e(n.target).parents(".avia-menu")),g.css({padding:d+"px 0px"}),v.removeClass("av-active-burger-items"),b.addClass("is-active"),s.addClass("av-burger-overlay-active"),l.css({display:"block"}).animate({opacity:1},function(){u=!1}),setTimeout(function(){s.addClass("av-burger-overlay-active-delayed")},100),v.each(function(a){var i=e(this);setTimeout(function(){i.addClass("av-active-burger-items")},125*(a+1))})}n.preventDefault()}})}(),e(window).trigger("resize")}),e.avia_utilities=e.avia_utilities||{}}(jQuery);